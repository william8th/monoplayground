plugins {
    id "org.jetbrains.kotlin.jvm" version "1.3.40"
}

group "com.williamheng"
version "1.0-SNAPSHOT"

subprojects {
    ext {
        kotlinVersion = "1.3.40"
        groovyVersion = "2.5.7"
        junitVersion = "4.12"
        jdbiVersion = "3.8.2"
        ktorVersion = "1.2.3"
    }
    
    repositories {
        mavenLocal()
        mavenCentral()
        jcenter()
    }

    apply plugin: "kotlin"
    apply plugin: "groovy"
    
    dependencies {
        implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion"
        implementation "org.codehaus.groovy:groovy:$groovyVersion"
        
        testImplementation "junit:junit:$junitVersion"
        
        runtime 'ch.qos.logback:logback-classic:1.2.3'
    }

    compileKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
    
    compileTestKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
    
    compileGroovy {
        dependsOn compileKotlin
        classpath += files(compileKotlin.destinationDir)
    }

}

